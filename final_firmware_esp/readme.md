If you just want to upload it to the ESP chip:

Use https://github.com/nodemcu/nodemcu-flasher



If you want to create your own firmware:

Built using NodeMCU-build

http://nodemcu-build.com/

Selected modules:
adc, file, gpio, net, node, pwm, tmr, uart, wifi

And choose integer for download